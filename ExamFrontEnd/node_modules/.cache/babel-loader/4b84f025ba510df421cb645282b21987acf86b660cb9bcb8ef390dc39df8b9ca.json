{"ast":null,"code":"import _regeneratorRuntime from \"D:/atos/Task/ExamFrontEnd/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/atos/Task/ExamFrontEnd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"D:/atos/Task/ExamFrontEnd/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"D:\\\\atos\\\\Task\\\\ExamFrontEnd\\\\src\\\\user\\\\pages\\\\Users.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport UsersList from '../components/UsersList';\nimport axios from 'axios';\nimport ErrorModel from '../../Model/ErorrModel';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Users = function Users() {\n  _s();\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    loadedUsers = _useState2[0],\n    setLoadedUsers = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isLoading = _useState6[0],\n    setIsLoading = _useState6[1];\n  useEffect(function () {\n    var sendReq = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var res, resData;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              setIsLoading(true);\n              _context.prev = 1;\n              _context.next = 4;\n              return axios.get(\"http://localhost:3000/api/users\");\n            case 4:\n              res = _context.sent;\n              _context.next = 7;\n              return res.data;\n            case 7:\n              resData = _context.sent;\n              if (!(res.status !== 200)) {\n                _context.next = 10;\n                break;\n              }\n              throw new Error(resData.message);\n            case 10:\n              setLoadedUsers(resData.users);\n\n              // console.log(res);\n              _context.next = 16;\n              break;\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](1);\n              setError(_context.t0.message);\n            case 16:\n              setIsLoading(false);\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[1, 13]]);\n      }));\n      return function sendReq() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    sendReq();\n  }, []);\n  var errorHandler = function errorHandler() {\n    setError(null);\n  };\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ErrorModel, {\n      error: error,\n      onClear: errorHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, _this), !isLoading && loadedUsers && /*#__PURE__*/_jsxDEV(UsersList, {\n      items: loadedUsers\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 37\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, _this);\n};\n_s(Users, \"1937DjpehBwKHXnRqmu9AfxCfIg=\");\n_c = Users;\nexport default Users;\nvar _c;\n$RefreshReg$(_c, \"Users\");","map":{"version":3,"names":["React","useEffect","useState","UsersList","axios","ErrorModel","jsxDEV","_jsxDEV","Users","_s","_useState","_useState2","_slicedToArray","loadedUsers","setLoadedUsers","_useState3","_useState4","error","setError","_useState5","_useState6","isLoading","setIsLoading","sendReq","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","resData","wrap","_callee$","_context","prev","next","get","sent","data","status","Error","message","users","t0","stop","apply","arguments","errorHandler","Fragment","children","onClear","fileName","_jsxFileName","lineNumber","columnNumber","_this","items","_c","$RefreshReg$"],"sources":["D:/atos/Task/ExamFrontEnd/src/user/pages/Users.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport UsersList from '../components/UsersList';\nimport axios from 'axios';\nimport ErrorModel from '../../Model/ErorrModel';\n\nconst Users = () => {\n  const [loadedUsers, setLoadedUsers] = useState();\n  const [error, setError] = useState();\n  const [isLoading, setIsLoading] = useState(false);\n  useEffect(() => {\n    const sendReq = async () => {\n      setIsLoading(true);\n      try {\n        const res =await axios.get(\"http://localhost:3000/api/users\");\n        \n        const resData = await res.data;\n        \n        if (res.status !== 200) {\n          throw new Error(resData.message);\n        }\n        setLoadedUsers(resData.users);\n        \n        \n        // console.log(res);\n      }\n      catch (err) {\n       \n        setError(err.message);\n      }\n      setIsLoading(false);\n    };\n    sendReq();\n  }, []);\n\n  const errorHandler = () => {\n    setError(null);\n  }\n  return (\n    <React.Fragment>\n      <ErrorModel error={error} onClear={errorHandler} />\n      {!isLoading && loadedUsers && <UsersList items={loadedUsers} />}\n    </React.Fragment>\n  );\n};\n\nexport default Users;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}